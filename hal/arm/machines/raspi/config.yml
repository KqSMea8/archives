include_if: "MACHINE == 'raspi'"

global_config:
  CFLAGS:
    append_words: >
      -ffreestanding
      -Ipackages/arm/src 
      -Ipackages/arm/machines/raspi/include
      -mcpu=arm1176jzf-s -mfloat-abi=soft
  HAL_RUN:
    default: packages/arm/machines/raspi/run
  HAL_GENIMAGE:
    default: packages/arm/machines/raspi/genimage
  HAL_LINK:
    default: >
      $(LD) -Map $(BUILD_DIR)/executable.map
      -nostdlib -nodefaultlibs
      -Tpackages/arm/machines/raspi/executable.lds
      -o

config:
  LIBS:
    set:
      - '$(shell $(CC) -print-libgcc-file-name)'

