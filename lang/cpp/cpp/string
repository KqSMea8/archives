#ifndef __CPP_STRING__
#define __CPP_STRING__

#include <types.h>

class string {
public:
    // The maximum value of size_t. Note that
    // size_t is *un*signed integer.
    static const size_t npos = -1;

    string();
    string(const char *s);
    string& append(const char *s);
    string& append(char c);
    size_t find(const char *s, size_t pos) const;
    size_t find(const char c, size_t pos) const;
    const char *c_str() const;

    string& operator +=(char c) {
        append(c);
        return *this;
    }

    // extensions
    bool startswith(const char *s) const;
    int to_int() const;

    size_t length, capacity;

private:
    char *buf;
    void init();
};

#endif
