#!/bin/node
const Supervisor = require('.')

const appDir = '/app'
const adapter = {
  name: process.env['MAKESTACK_ADAPTER'],
  url: process.env['MAKESTACK_SERVER_URL']
}
const deviceType = process.env['MAKESTACK_DEVICE_TYPE']
const debugMode = process.env['MAKESTACK_DEBUG_MODE'] !== undefined
const osVersion = process.env['MAKESTACK_OS_VERSION']
const deviceId = process.env['MAKESTACK_DEVICE_ID']
const appUID = process.env['MAKESTACK_APP_UID']
const appGID = process.env['MAKESTACK_APP_GID']

console.log('*** starting supervisor')
const supervisor = new Supervisor({ appDir, adapter, deviceType, osVersion, deviceId, debugMode, appUID, appGID })
supervisor.start()
